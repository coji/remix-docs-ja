import{w as d}from"./with-props-BNhccnEm.js";import{v as c,w as x,n as s,x as j}from"./chunk-K6CSEXPM-C_oZJgzf.js";import{u as h,g as f,a as g,z as l,p as v}from"./parse-Ctvozy-0.js";import{B as b}from"./index-BtQaWpDK.js";import{L as e}from"./label-BZ-T9J-k.js";import{S as o}from"./stack-6Vky8XjY.js";import{T as i}from"./textarea-DSqrLufP.js";import{L as w}from"./loader-circle-DXhqNPWi.js";import"./index-C3YNuyiX.js";import"./index-CtQMAkFv.js";import"./createLucideIcon-DnlBZ-aB.js";const F=l.object({prompt:l.string()}),k=d(function({actionData:t}){const{project:m,file:a}=c(),r=x(),[n,{prompt:p}]=h({lastResult:r.state==="idle"?t==null?void 0:t.lastResult:null,defaultValue:{prompt:m.prompt},onValidate:({formData:u})=>v(u,{schema:F})});return s.jsx("div",{children:s.jsxs(j,{method:"POST",...f(n),className:"grid grid-cols-2 gap-2",children:[s.jsxs(o,{children:[s.jsx(e,{htmlFor:"original",children:"Original"}),s.jsx(i,{id:"original",readOnly:!0,rows:15,value:a.content})]}),s.jsxs(o,{children:[s.jsx(e,{htmlFor:"output",children:"Output"}),s.jsx(i,{id:"output",readOnly:!0,value:a.output??void 0,rows:15})]}),s.jsxs(o,{className:"col-span-2",children:[s.jsxs("div",{children:[s.jsx(e,{children:"Prompt"}),s.jsx(i,{...g(p)})]}),s.jsxs(b,{type:"submit",className:"w-full",disabled:r.state==="submitting",children:[r.state==="submitting"&&s.jsx(w,{size:"16",className:"mr-2 animate-spin"}),"Translate"]})]})]})})});export{k as default};
