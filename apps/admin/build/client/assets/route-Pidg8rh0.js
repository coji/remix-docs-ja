import{w as c}from"./with-props-BNhccnEm.js";import{v as p,w as x,n as s,x as h}from"./chunk-K6CSEXPM-C_oZJgzf.js";import{u as j,g as f,a as g,z as i,p as v}from"./parse-Ctvozy-0.js";import{B as a}from"./index-BtQaWpDK.js";import{L as l}from"./label-BZ-T9J-k.js";import{S as n,H as w}from"./stack-6Vky8XjY.js";import{T as d}from"./textarea-DSqrLufP.js";import"./index-C3YNuyiX.js";import"./index-CtQMAkFv.js";const F=i.object({output:i.string()}),C=c(function({actionData:r}){const{file:o}=p(),u=x(),[t,{output:e}]=j({lastResult:u.state==="idle"?r==null?void 0:r.lastResult:null,defaultValue:{output:o.output},onValidate:({formData:m})=>v(m,{schema:F})});return s.jsx("div",{children:s.jsxs(h,{method:"POST",...f(t),className:"grid grid-cols-2 gap-2",children:[s.jsxs(n,{children:[s.jsx(l,{htmlFor:"original",children:"Original"}),s.jsx(d,{id:"original",readOnly:!0,rows:20,value:o.content})]}),s.jsxs(n,{children:[s.jsx(l,{htmlFor:e.id,children:"Output"}),s.jsx(d,{...g(e),rows:20}),s.jsx("div",{id:e.errorId,className:"text-destructive text-sm",children:e.errors}),s.jsxs(w,{children:[s.jsx(a,{variant:"secondary",...t.reset.getButtonProps(),disabled:!t.dirty,className:"w-full",children:"Reset"}),s.jsx(a,{type:"submit",disabled:!t.dirty,className:"w-full",children:"Save"})]})]})]})})});export{C as default};
