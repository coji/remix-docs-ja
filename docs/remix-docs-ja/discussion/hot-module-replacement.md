---
title: ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç½®æ›
---

# ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç½®æ›

ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç½®æ›ã¨ã¯ã€ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãªãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ›´æ–°ã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚
é–‹ç™ºè€…ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ç´ æ™´ã‚‰ã—ã„ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã‚ã‚Šã€Remixã¯ã“ã‚Œã‚’æ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ç‰¹ã«ã€HMRã¯æ›´æ–°æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶ã®çŠ¶æ…‹ã‚’ç¶­æŒã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚
ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã«ãƒ•ã‚©ãƒ¼ãƒ ãŒã‚ã‚Šã€ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸå ´åˆã€å¾“æ¥ã®ãƒ©ã‚¤ãƒ–ãƒªãƒ­ãƒ¼ãƒ‰ã§ã¯ãƒšãƒ¼ã‚¸ãŒãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
ãã®ãŸã‚ã€ãƒ•ã‚©ãƒ¼ãƒ å†…ã®ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã¾ã™ã€‚
å¤‰æ›´ã‚’åŠ ãˆã‚‹ãŸã³ã«ã€_å†åº¦_ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ãã€_å†åº¦_ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ğŸ˜­

ã—ã‹ã—ã€HMRã§ã¯ã€ãã®ã‚ˆã†ãªçŠ¶æ…‹ã¯_æ›´æ–°é–“_ã§ç¶­æŒã•ã‚Œã¾ã™ã€‚ âœ¨

## React Fast Refresh

Reactã«ã¯ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ãªã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã«å¿œç­”ã—ã¦ã€[ä»®æƒ³DOM][virtual-dom] ã‚’ä»‹ã—ã¦DOMã‚’æ›´æ–°ã™ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒã™ã§ã«å­˜åœ¨ã—ã¾ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã«å¿œç­”ã—ã¦DOMã®æ›´æ–°ã‚’ReactãŒå‡¦ç†ã§ããŸã‚‰ã€ç´ æ™´ã‚‰ã—ã„ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿ

ãã‚ŒãŒã¾ã•ã«[React Fast Refresh][react-refresh] ã®ç›®çš„ã§ã™ï¼
ã‚‚ã¡ã‚ã‚“ã€Reactã¯ä¸€èˆ¬çš„ãªJavaScriptã‚³ãƒ¼ãƒ‰ã§ã¯ãªãã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä¸­å¿ƒã¨ã—ãŸã‚‚ã®ãªã®ã§ã€RFRå˜ä½“ã§ã¯ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ›ãƒƒãƒˆæ›´æ–°ã®ã¿ã‚’å‡¦ç†ã—ã¾ã™ã€‚

ã—ã‹ã—ã€React Fast Refreshã«ã¯ã€èªè­˜ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã„ãã¤ã‹ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚

### ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹

React Fast Refreshã¯ã€ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ç¶­æŒã—ã¾ã›ã‚“ã€‚
ã“ã‚Œã«ã¯ã€å†…éƒ¨çš„ã«ã‚¯ãƒ©ã‚¹ã‚’è¿”ã™é«˜éšã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¾ã™ã€‚

```tsx
export class ComponentA extends Component {} // âŒ

export const ComponentB = HOC(ComponentC); // âŒ HOCãŒã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿”ã™å ´åˆã€æ©Ÿèƒ½ã—ã¾ã›ã‚“

export function ComponentD() {} // âœ…
export const ComponentE = () => {}; // âœ…
export default function ComponentF() {} // âœ…
```

### åå‰ä»˜ãé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€React Fast RefreshãŒå¤‰æ›´ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã«ã€åŒ¿åã§ã¯ãªãåå‰ä»˜ãã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```tsx
export default () => {}; // âŒ
export default function () {} // âŒ

const ComponentA = () => {};
export default ComponentA; // âœ…

export default function ComponentB() {} // âœ…
```

### ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

React Fast Refreshã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®ã¿ã‚’å‡¦ç†ã§ãã¾ã™ã€‚Remixã¯ã€[`action`][action]ã€[`headers`][headers]ã€[`links`][links]ã€[`loader`][loader]ã€[`meta`][meta]ãªã©ã€ç‰¹åˆ¥ãªãƒ«ãƒ¼ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’ç®¡ç†ã—ã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã™ã¹ã¦ã€å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚

```tsx
// ã“ã‚Œã‚‰ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã€Remix Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã€
// HMRäº’æ›ã«ãªã‚Šã¾ã™
export const meta = { title: "Home" }; // âœ…
export const links = [
  { rel: "stylesheet", href: "style.css" },
]; // âœ…

// ã“ã‚Œã‚‰ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã€Remix Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦å‰Šé™¤ã•ã‚Œã‚‹ãŸã‚ã€
// HMRã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“
export const headers = { "Cache-Control": "max-age=3600" }; // âœ…
export const loader = async () => {}; // âœ…
export const action = async () => {}; // âœ…

// ã“ã‚Œã¯ã€Remixã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ã‚‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ã‚‚ãªãã€
// ãã®ãŸã‚ã€ã“ã®ãƒ«ãƒ¼ãƒˆã®å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ãŒç™ºç”Ÿã—ã¾ã™
export const myValue = "some value"; // âŒ

export default function Route() {} // âœ…
```

ğŸ‘† ãƒ«ãƒ¼ãƒˆã¯ã€ã“ã®ã‚ˆã†ãªãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãªã„æ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚
ãƒ«ãƒ¼ãƒˆé–“ã§å€¤ã‚’å†åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ç‹¬è‡ªã®éãƒ«ãƒ¼ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«æ ¼ç´ã—ã¦ãã ã•ã„ã€‚

```ts filename=my-custom-value.ts
export const myValue = "some value";
```

### ãƒ•ãƒƒã‚¯ã®å¤‰æ›´

React Fast Refreshã¯ã€ãƒ•ãƒƒã‚¯ãŒè¿½åŠ ã¾ãŸã¯å‰Šé™¤ã•ã‚ŒãŸå ´åˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ›´ã‚’è¿½è·¡ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€æ¬¡ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®éš›ã«å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ãŒç™ºç”Ÿã—ã¾ã™ã€‚ãƒ•ãƒƒã‚¯ãŒæ›´æ–°ã•ã‚ŒãŸå¾Œã€å¤‰æ›´ã¯å†ã³ãƒ›ãƒƒãƒˆæ›´æ–°ã«ãªã‚‹ã¯ãšã§ã™ã€‚ãŸã¨ãˆã°ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«[`useLoaderData`][use-loader-data]ã‚’è¿½åŠ ã—ãŸå ´åˆã€ãã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®éš›ã«ã€ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ«ãªçŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã•ã‚‰ã«ã€ãƒ•ãƒƒã‚¯ã®æˆ»ã‚Šå€¤ã‚’ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹å ´åˆã€ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒªãƒ³ã‚°ã•ã‚ŒãŸã‚­ãƒ¼ãŒå‰Šé™¤ã¾ãŸã¯åå‰å¤‰æ›´ã•ã‚ŒãŸå ´åˆã€React Fast Refreshã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ç¶­æŒã§ãã¾ã›ã‚“ã€‚
ãŸã¨ãˆã°ã€æ¬¡ã®ã‚ˆã†ãªå ´åˆã§ã™ã€‚

```tsx
export const loader = async () => {
  return json({ stuff: "some things" });
};

export default function Component() {
  const { stuff } = useLoaderData<typeof loader>();
  return (
    <div>
      <input />
      <p>{stuff}</p>
    </div>
  );
}
```

ã‚­ãƒ¼`stuff`ã‚’`things`ã«å¤‰æ›´ã—ãŸå ´åˆï¼š

```diff
  export const loader = async () => {
-   return json({ stuff: "some things" })
+   return json({ things: "some things" })
  }

  export default Component() {
-   const { stuff } = useLoaderData<typeof loader>()
+   const { things } = useLoaderData<typeof loader>()
    return (
      <div>
        <input />
-       <p>{stuff}</p>
+       <p>{things}</p>
      </div>
    )
  }
```

React Fast Refreshã¯ã€`<input />`ã®çŠ¶æ…‹ã‚’ç¶­æŒã§ãã¾ã›ã‚“ âŒã€‚

å›é¿ç­–ã¨ã—ã¦ã€ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒªãƒ³ã‚°ã‚’é¿ã‘ã€ä»£ã‚ã‚Šã«ãƒ•ãƒƒã‚¯ã®æˆ»ã‚Šå€¤ã‚’ç›´æ¥ä½¿ç”¨ã§ãã¾ã™ã€‚

```tsx
export const loader = async () => {
  return json({ stuff: "some things" });
};

export default function Component() {
  const data = useLoaderData<typeof loader>();
  return (
    <div>
      <input />
      <p>{data.stuff}</p>
    </div>
  );
}
```

ã“ã‚Œã§ã€ã‚­ãƒ¼`stuff`ã‚’`things`ã«å¤‰æ›´ã—ãŸå ´åˆï¼š

```diff
  export const loader = async () => {
-   return json({ stuff: "some things" })
+   return json({ things: "some things" })
  }

  export default Component() {
    const data = useLoaderData<typeof loader>()
    return (
      <div>
        <input />
-       <p>{data.stuff}</p>
+       <p>{data.things}</p>
      </div>
    )
  }
```

React Fast Refreshã¯`<input />`ã®çŠ¶æ…‹ã‚’ç¶­æŒã—ã¾ã™ãŒã€æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€çŠ¶æ…‹ã®ã‚ã‚‹è¦ç´ ï¼ˆä¾‹ï¼š`<input />`ï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸè¦ç´ ã®å…„å¼Ÿè¦ç´ ã§ã‚ã‚‹å ´åˆã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚­ãƒ¼

å ´åˆã«ã‚ˆã£ã¦ã¯ã€Reactã¯ã€æ—¢å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¤‰æ›´ã•ã‚ŒãŸã®ã‹ã€æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¿½åŠ ã•ã‚ŒãŸã®ã‹ã‚’åŒºåˆ¥ã§ãã¾ã›ã‚“ã€‚[Reactã¯ã€ã“ã‚Œã‚‰ã®å ´åˆã‚’åŒºåˆ¥ã—ã€å…„å¼Ÿè¦ç´ ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å¤‰æ›´ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã«`key`ã‚’å¿…è¦ã¨ã—ã¾ã™][react-keys]ã€‚

[virtual-dom]: https://reactjs.org/docs/faq-internals.html#what-is-the-virtual-dom
[react-refresh]: https://github.com/facebook/react/tree/main/packages/react-refresh
[action]: ../route/action
[headers]: ../route/headers
[links]: ../route/links
[loader]: ../route/loader
[meta]: ../route/meta
[use-loader-data]: ../hooks/use-loader-data
[react-keys]: https://react.dev/learn/rendering-lists#why-does-react-need-keys


