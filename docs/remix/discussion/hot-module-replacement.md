---
title: ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒˆ
---

# ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒˆ

ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒˆã¯ã€ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã›ãšã«ã‚¢ãƒ—ãƒªå†…ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ›´æ–°ã™ã‚‹æŠ€è¡“ã§ã™ã€‚
ã“ã‚Œã¯ç´ æ™´ã‚‰ã—ã„é–‹ç™ºè€…ä½“é¨“ã§ã‚ã‚Šã€Remix ã¯ã“ã‚Œã‚’ã™ãã«ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ç‰¹ã«ã€HMR ã¯æ›´æ–°é–“ã§ãƒ–ãƒ©ã‚¦ã‚¶ã®çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã«æœ€å–„ã‚’å°½ãã—ã¾ã™ã€‚
ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã«`form`ãŒã‚ã‚Šã€ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸå ´åˆã€å¾“æ¥ã®ãƒªãƒ­ãƒ¼ãƒ‰ã§ã¯ãƒšãƒ¼ã‚¸ãŒãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
ãã®ãŸã‚ã€ãƒ•ã‚©ãƒ¼ãƒ å†…ã®ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã¾ã™ã€‚
å¤‰æ›´ã‚’åŠ ãˆã‚‹ãŸã³ã«ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’ _å†åº¦_ é–‹ã„ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚’ _å†åº¦_ å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ğŸ˜­

ã—ã‹ã—ã€HMR ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã™ã¹ã¦ã®çŠ¶æ…‹ãŒ _æ›´æ–°é–“ã§_ ç¶­æŒã•ã‚Œã¾ã™ã€‚âœ¨

## React Fast Refresh

React ã«ã¯ã€ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ãªã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã«å¿œã˜ã¦ã€[ä»®æƒ³ DOM][virtual-dom] ã‚’ä»‹ã—ã¦ DOM ã‚’æ›´æ–°ã™ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒã™ã§ã«ã‚ã‚Šã¾ã™ã€‚
React ãŒã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã«ã‚‚å¿œç­”ã—ã¦ DOM ã®æ›´æ–°ã‚’å‡¦ç†ã§ããŸã‚‰ç´ æ™´ã‚‰ã—ã„ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿ

ãã‚ŒãŒã¾ã•ã« [React Fast Refresh][react-refresh] ã®ç›®çš„ã§ã™ï¼
ã‚‚ã¡ã‚ã‚“ã€React ã¯ä¸€èˆ¬çš„ãª JavaScript ã‚³ãƒ¼ãƒ‰ã§ã¯ãªãã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é–¢ã™ã‚‹ã‚‚ã®ãªã®ã§ã€RFR è‡ªä½“ã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸ React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ›ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ã¿ã‚’å‡¦ç†ã—ã¾ã™ã€‚

ãŸã ã—ã€React Fast Refresh ã«ã¯æ³¨æ„ã™ã¹ãã„ãã¤ã‹ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚

### ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹

React Fast Refresh ã¯ã€ã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ä¿æŒã—ã¾ã›ã‚“ã€‚
ã“ã‚Œã«ã¯ã€å†…éƒ¨ã§ã‚¯ãƒ©ã‚¹ã‚’è¿”ã™é«˜éšã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¾ã™ã€‚

```tsx
export class ComponentA extends Component {} // âŒ

export const ComponentB = HOC(ComponentC); // âŒ HOC ãŒã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿”ã™å ´åˆã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“

export function ComponentD() {} // âœ…
export const ComponentE = () => {}; // âœ…
export default function ComponentF() {} // âœ…
```

### åå‰ä»˜ãé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€React Fast Refresh ãŒå¤‰æ›´ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã«ã€åŒ¿åã§ã¯ãªãåå‰ä»˜ãã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```tsx
export default () => {}; // âŒ
export default function () {} // âŒ

const ComponentA = () => {};
export default ComponentA; // âœ…

export default function ComponentB() {} // âœ…
```

### ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

React Fast Refresh ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®ã¿ã‚’å‡¦ç†ã§ãã¾ã™ã€‚Remix ã¯ã€[`action`][action]ã€[`headers`][headers]ã€[`links`][links]ã€[`loader`][loader]ã€[`meta`][meta] ãªã©ã®ç‰¹åˆ¥ãªãƒ«ãƒ¼ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’ç®¡ç†ã—ã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚

```tsx
// ã“ã‚Œã‚‰ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã€HMR ã¨äº’æ›æ€§ãŒã‚ã‚‹ã‚ˆã†ã« Remix Vite ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã¾ã™
export const meta = { title: "Home" }; // âœ…
export const links = [
  { rel: "stylesheet", href: "style.css" },
]; // âœ…

// ã“ã‚Œã‚‰ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã€HMR ã«å½±éŸ¿ã‚’ä¸ãˆãªã„ã‚ˆã†ã« Remix Vite ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦å‰Šé™¤ã•ã‚Œã¾ã™
export const headers = { "Cache-Control": "max-age=3600" }; // âœ…
export const loader = async () => {}; // âœ…
export const action = async () => {}; // âœ…

// ã“ã‚Œã¯ Remix ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ã‚‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ã‚‚ãªã„ãŸã‚ã€ã“ã®ãƒ«ãƒ¼ãƒˆã®å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ã‚’å¼•ãèµ·ã“ã—ã¾ã™
export const myValue = "some value"; // âŒ

export default function Route() {} // âœ…
```

ğŸ‘† ãƒ«ãƒ¼ãƒˆã¯ã€ã„ãšã‚Œã«ã—ã¦ã‚‚ãã®ã‚ˆã†ãªãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ãƒ«ãƒ¼ãƒˆé–“ã§å€¤ã‚’å†åˆ©ç”¨ã—ãŸã„å ´åˆã¯ã€ãƒ«ãƒ¼ãƒˆä»¥å¤–ã®ç‹¬è‡ªã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ãã‚Œã‚‰ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚

```ts filename=my-custom-value.ts
export const myValue = "some value";
```

### ãƒ•ãƒƒã‚¯ã®å¤‰æ›´

React Fast Refresh ã¯ã€ãƒ•ãƒƒã‚¯ãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¿½åŠ ã¾ãŸã¯å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ›´ã‚’è¿½è·¡ã§ããšã€æ¬¡ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãŸã‚ã ã‘ã«å®Œå…¨ãªãƒªãƒ­ãƒ¼ãƒ‰ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚ãƒ•ãƒƒã‚¯ãŒæ›´æ–°ã•ã‚ŒãŸå¾Œã€å¤‰æ›´ã¯å†ã³ãƒ›ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ãªã‚‹ã¯ãšã§ã™ã€‚ãŸã¨ãˆã°ã€[`useLoaderData`][use-loader-data] ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¿½åŠ ã™ã‚‹ã¨ã€ãã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãŸã‚ã«ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ­ãƒ¼ã‚«ãƒ«ãªçŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã•ã‚‰ã«ã€ãƒ•ãƒƒã‚¯ã®æˆ»ã‚Šå€¤ã‚’åˆ†å‰²ä»£å…¥ã—ã¦ã„ã‚‹å ´åˆã€åˆ†å‰²ä»£å…¥ã•ã‚ŒãŸã‚­ãƒ¼ãŒå‰Šé™¤ã¾ãŸã¯åå‰å¤‰æ›´ã•ã‚ŒãŸå ´åˆã€React Fast Refresh ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’ä¿æŒã§ãã¾ã›ã‚“ã€‚
ä¾‹ï¼š

```tsx
export const loader = async () => {
  return json({ stuff: "some things" });
};

export default function Component() {
  const { stuff } = useLoaderData<typeof loader>();
  return (
    <div>
      <input />
      <p>{stuff}</p>
    </div>
  );
}
```

ã‚­ãƒ¼ `stuff` ã‚’ `things` ã«å¤‰æ›´ã—ãŸå ´åˆï¼š

```diff
  export const loader = async () => {
-   return json({ stuff: "some things" })
+   return json({ things: "some things" })
  }

  export default Component() {
-   const { stuff } = useLoaderData<typeof loader>()
+   const { things } = useLoaderData<typeof loader>()
    return (
      <div>
        <input />
-       <p>{stuff}</p>
+       <p>{things}</p>
      </div>
    )
  }
```

æ¬¡ã«ã€React Fast Refresh ã¯çŠ¶æ…‹ `<input />` âŒ ã‚’ä¿æŒã§ãã¾ã›ã‚“ã€‚

å›é¿ç­–ã¨ã—ã¦ã€åˆ†å‰²ä»£å…¥ã‚’æ§ãˆã€ä»£ã‚ã‚Šã«ãƒ•ãƒƒã‚¯ã®æˆ»ã‚Šå€¤ã‚’ç›´æ¥ä½¿ç”¨ã§ãã¾ã™ã€‚

```tsx
export const loader = async () => {
  return json({ stuff: "some things" });
};

export default function Component() {
  const data = useLoaderData<typeof loader>();
  return (
    <div>
      <input />
      <p>{data.stuff}</p>
    </div>
  );
}
```

ã“ã“ã§ã€ã‚­ãƒ¼ `stuff` ã‚’ `things` ã«å¤‰æ›´ã—ãŸå ´åˆï¼š

```diff
  export const loader = async () => {
-   return json({ stuff: "some things" })
+   return json({ things: "some things" })
  }

  export default Component() {
    const data = useLoaderData<typeof loader>()
    return (
      <div>
        <input />
-       <p>{data.stuff}</p>
+       <p>{data.things}</p>
      </div>
    )
  }
```

æ¬¡ã«ã€React Fast Refresh ã¯ `<input />` ã®çŠ¶æ…‹ã‚’ä¿æŒã—ã¾ã™ãŒã€çŠ¶æ…‹ã‚’æŒã¤è¦ç´ ï¼ˆä¾‹ï¼š`<input />`ï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸè¦ç´ ã®å…„å¼Ÿã§ã‚ã‚‹å ´åˆã¯ã€æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã™ã‚‹ã‚ˆã†ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚­ãƒ¼

å ´åˆã«ã‚ˆã£ã¦ã¯ã€React ã¯å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹æ—¢å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨è¿½åŠ ã•ã‚Œã¦ã„ã‚‹æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒºåˆ¥ã§ãã¾ã›ã‚“ã€‚[React ã¯ã€ã“ã‚Œã‚‰ã®ã‚±ãƒ¼ã‚¹ã‚’æ›–æ˜§ã•ã‚’è§£æ¶ˆã—ã€å…„å¼Ÿè¦ç´ ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å¤‰æ›´ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã« `key`s ãŒå¿…è¦ã§ã™][react-keys]ã€‚

[virtual-dom]: https://reactjs.org/docs/faq-internals.html#what-is-the-virtual-dom
[react-refresh]: https://github.com/facebook/react/tree/main/packages/react-refresh
[action]: ../route/action
[headers]: ../route/headers
[links]: ../route/links
[loader]: ../route/loader
[meta]: ../route/meta
[use-loader-data]: ../hooks/use-loader-data
[react-keys]: https://react.dev/learn/rendering-lists#why-does-react-need-keys